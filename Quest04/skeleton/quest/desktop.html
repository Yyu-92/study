<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<link rel="stylesheet" href="./desktop.css">
	</head>
	<body>
		<section class="desktop">
			
		</section>

		<script src="./desktop.js"></script>
		<script>

		
			// let myDesktop = new Desktop(
			// 	/* TODO: myDesktop 인스턴스의 생성자의 변수로 무엇이 들어가야 할까요? */
				
			// );
			
			let myDesktop = new Desktop(1);
			myDesktop.setCreateMenubar();
			myDesktop.setCreateInput();
			
			let submitBtn1 =  document.querySelector('#folderSubmit');
			let submitBtn2 =  document.querySelector('#iconSubmit');
			
			let myFolder;
			let myIcon;
			let myWindow;
			
			let cnt = 1;

			document.querySelector('#wallpaper1').classList += ' current';
			
			tabPlus.addEventListener('click', function(){
				cnt++
				// console.log(cnt);

				eval('myDesktop'+ cnt+ `= new Desktop(${cnt})`); 
				
				wallpaper = [].slice.call(document.querySelectorAll('.wallpaper'));

				for(let i = 0; i < tabListArr.length; i++){
					(function(i){
						tabListArr[i].addEventListener('click', function(){
							for(let j = 0; j < wallpaper.length; j++){
								wallpaper[j].classList.remove('current');
							}
							wallpaper[i].classList.add('current');
						});
					})(i);
				}
			});     
			
			// let myDesktop3 = new Desktop(3);
			
			submitBtn1.addEventListener('click', function(){
				folderValue = Number(document.getElementById('folderConst').value);
				document.getElementById('folderConst').value = '';

				if(isNaN(folderValue) || folderValue < 1){ // isNaN ==> 매개변수가 숫자가 아니면 true, 숫자이면 false를 반환
					alert("1이상의 숫자만 입력해주세요!");
					return
				}
				
				myFolder = new Folder(folderValue);

				folderArr = document.querySelectorAll('.folder');
				folderArr.forEach(myFolder.movingIcon);

				myWindow = new Window(folderArr);	

			});
	
			
			
			submitBtn2.addEventListener('click', function(){
				iconValue = Number(document.getElementById('iconConst').value);
				document.getElementById('iconConst').value = '';

				if(isNaN(iconValue) || iconValue < 1){ 
					alert("1이상의 숫자만 입력해주세요!");
					return
				}

				myIcon = new Icon(iconValue);

				iconArr = document.querySelectorAll('.file');
				iconArr.forEach(myIcon.movingIcon);
			});

			

			
		
			
			

			


		
			
			
		</script>	


	</body>
	
</html>
